@model ByteBank.Forum.ViewModels.ContaMinhaContaViewModel

@{
    ViewBag.Title = "MinhaConta";
}

<h2>Minha conta</h2>

@using (Html.BeginForm("EsquecerNavegador", "Conta", FormMethod.Post, new { id = "formularioEsquecerNavegador" }))
{

}

@using (Html.BeginForm("DeslogarDeTodosLocais", "Conta", FormMethod.Post, new { id = "formularioDeslogarDeTodosOsLocais" }))
{

}



@using (Html.BeginForm())
{
    @Html.ValidationSummary()

    @Html.LabelFor(modelo => modelo.NomeCompleto)
    <br />
    @Html.EditorFor(modelo => modelo.NomeCompleto)
    <br />

    @Html.LabelFor(modelo => modelo.NumeroDeCelular)
    <br />
    @Html.EditorFor(modelo => modelo.NumeroDeCelular)
    <br />

    if (Model.NumeroDeCelularConfirmado)
    {
        @Html.LabelFor(modelo => modelo.HabilitarAutenticacaoDeDoisFatores)
        <br />
        @Html.EditorFor(modelo => modelo.HabilitarAutenticacaoDeDoisFatores)
        <br />

        <a href="javascript:document.getElementById('formularioEsquecerNavegador').submit()"> Esquecer este navegador </a>


    }
    else
    {
        <p>
            * Informe e confirme seu número de celular para habilitar a autenticação com 2 fatores
        </p>

        @Html.ActionLink("Clique aqui para verificar o token recebido!", "VerificaCodigoCelular")
    }

    <a href="javascript:document.getElementById('formularioDeslogarDeTodosOsLocais').submit()"> Deslogar de todos os locais </a>

    <input type="submit" value="Salvar" class="btn btn-default" />
}
